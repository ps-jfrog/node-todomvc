{"_id":"pkg-entry-points","_rev":"4-d5f288a28c2436ecd77c39777134b14b","name":"pkg-entry-points","dist-tags":{"latest":"1.1.1"},"versions":{"1.0.0":{"name":"pkg-entry-points","version":"1.0.0","keywords":["node.js","package.json","entry","points","entry-points","exports","conditions","entries"],"author":{"name":"Hiroki Osame","email":"hiroki.osame@gmail.com"},"license":"MIT","_id":"pkg-entry-points@1.0.0","maintainers":[{"name":"hirokiosame","email":"hiroki.osame@gmail.com"}],"homepage":"https://github.com/privatenumber/pkg-entry-points#readme","bugs":{"url":"https://github.com/privatenumber/pkg-entry-points/issues"},"dist":{"shasum":"aadfa6fd74580eeeb82f91a15e0d8fcd6b1722b8","tarball":"https://registry.npmjs.org/pkg-entry-points/-/pkg-entry-points-1.0.0.tgz","fileCount":7,"integrity":"sha512-4wiMhbY8wpwFBqgR1OAYvTveuTsyK9MHQSKmJl1UyuBws2T1GKef8Ck6+lJ19TAHotLjp66E09gufu72QGthOg==","signatures":[{"sig":"MEUCIC5bg20lzTsLNarz8TjoHc2LOjkIi1LSNpOjABDi3ebCAiEAlOpAqzE/Yx4YsW8cNYWX7HGG6laGJjgh7LEYQur66QU=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":14665},"main":"./dist/index.cjs","type":"module","types":"./dist/index.d.cts","module":"./dist/index.mjs","exports":{"import":{"types":"./dist/index.d.mts","default":"./dist/index.mjs"},"require":{"types":"./dist/index.d.cts","default":"./dist/index.cjs"}},"funding":"https://github.com/privatenumber/pkg-entry-points?sponsor=1","gitHead":"4242f3b0ce22a0898eedf59e5d06356d8acc1b1c","imports":{"#pkg-entry-points":{"types":"./src/index.ts","default":"./dist/index.mjs","development":"./src/index.ts"}},"_npmUser":{"name":"hirokiosame","email":"hiroki.osame@gmail.com"},"repository":{"url":"git+https://github.com/privatenumber/pkg-entry-points.git","type":"git"},"_npmVersion":"9.5.1","description":"Get all entry-points for an npm package. Supports the `exports` field in `package.json`.","directories":{},"_nodeVersion":"18.16.0","_hasShrinkwrap":false,"_npmOperationalInternal":{"tmp":"tmp/pkg-entry-points_1.0.0_1684218579088_0.10945478069669501","host":"s3://npm-registry-packages"}},"1.0.1":{"name":"pkg-entry-points","version":"1.0.1","keywords":["node.js","package.json","entry","points","entry-points","exports","conditions","entries"],"author":{"name":"Hiroki Osame","email":"hiroki.osame@gmail.com"},"license":"MIT","_id":"pkg-entry-points@1.0.1","maintainers":[{"name":"hirokiosame","email":"hiroki.osame@gmail.com"}],"homepage":"https://github.com/privatenumber/pkg-entry-points#readme","bugs":{"url":"https://github.com/privatenumber/pkg-entry-points/issues"},"dist":{"shasum":"78061ed055fd2da5ab7ae5a3df463bc68662c465","tarball":"https://registry.npmjs.org/pkg-entry-points/-/pkg-entry-points-1.0.1.tgz","fileCount":7,"integrity":"sha512-+I1U7UudujQI/crFKu4MQQutOkmKB4lUl0L/ESY+cPi7hLrh5j27dmTgrRPmXSqtaKX+gS548HGXSHuEEhWPCQ==","signatures":[{"sig":"MEQCICnWmaQD145tWaranJt6GKkeF/AMeIdMEmpVpOLPiUMrAiBw90gA3Jdse0rxGjCKa3i6pCQgbiuTlEj2fOmvtORF0g==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":14677},"main":"./dist/index.cjs","type":"module","types":"./dist/index.d.cts","module":"./dist/index.mjs","exports":{"import":{"types":"./dist/index.d.mts","default":"./dist/index.mjs"},"require":{"types":"./dist/index.d.cts","default":"./dist/index.cjs"}},"funding":"https://github.com/privatenumber/pkg-entry-points?sponsor=1","gitHead":"211276cee3c19b72c3105128e0b0e0a8bc9c76b7","imports":{"#pkg-entry-points":{"types":"./src/index.ts","default":"./dist/index.mjs","development":"./src/index.ts"}},"_npmUser":{"name":"hirokiosame","email":"hiroki.osame@gmail.com"},"repository":{"url":"git+https://github.com/privatenumber/pkg-entry-points.git","type":"git"},"_npmVersion":"9.5.1","description":"Get all entry-points for an npm package. Supports the `exports` field in `package.json`.","directories":{},"_nodeVersion":"18.16.0","_hasShrinkwrap":false,"_npmOperationalInternal":{"tmp":"tmp/pkg-entry-points_1.0.1_1684402862148_0.795854545425329","host":"s3://npm-registry-packages"}},"1.0.2":{"name":"pkg-entry-points","version":"1.0.2","keywords":["node.js","package.json","entry","points","entry-points","exports","conditions","entries"],"author":{"name":"Hiroki Osame","email":"hiroki.osame@gmail.com"},"license":"MIT","_id":"pkg-entry-points@1.0.2","maintainers":[{"name":"hirokiosame","email":"hiroki.osame@gmail.com"}],"homepage":"https://github.com/privatenumber/pkg-entry-points#readme","bugs":{"url":"https://github.com/privatenumber/pkg-entry-points/issues"},"dist":{"shasum":"35fa400e0d0fbe253decdef1aaa523021efda3b4","tarball":"https://registry.npmjs.org/pkg-entry-points/-/pkg-entry-points-1.0.2.tgz","fileCount":7,"integrity":"sha512-LZKo+SJNMC80gk+vANlN+A5C7LIAGuyQ4aD6Ro3+ZDAd2Av+g8RRlMX4AXcutIH9Vdw27YpNk9GmanH9dch6Gg==","signatures":[{"sig":"MEYCIQCNk5VChxj31aF0Rm3QATu+bXLvMqkd3YkGXjyN/PT4ewIhAL8X4PRLH1/vQTiaDPIsL/fXaJl8Ip+LWw2XIbzR/gC8","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":14955},"main":"./dist/index.cjs","type":"module","types":"./dist/index.d.cts","module":"./dist/index.mjs","exports":{"import":{"types":"./dist/index.d.mts","default":"./dist/index.mjs"},"require":{"types":"./dist/index.d.cts","default":"./dist/index.cjs"}},"funding":"https://github.com/privatenumber/pkg-entry-points?sponsor=1","gitHead":"de646e24b1b7cca10bc829ee20d08fe38562ed19","imports":{"#pkg-entry-points":{"types":"./src/index.ts","default":"./dist/index.mjs","development":"./src/index.ts"}},"_npmUser":{"name":"hirokiosame","email":"hiroki.osame@gmail.com"},"repository":{"url":"git+https://github.com/privatenumber/pkg-entry-points.git","type":"git"},"_npmVersion":"9.5.1","description":"Get all entry-points for an npm package. Supports the `exports` field in `package.json`.","directories":{},"_nodeVersion":"18.16.0","_hasShrinkwrap":false,"_npmOperationalInternal":{"tmp":"tmp/pkg-entry-points_1.0.2_1689670676806_0.5432587846124948","host":"s3://npm-registry-packages"}},"1.1.0":{"name":"pkg-entry-points","version":"1.1.0","keywords":["node.js","package.json","entry","points","entry-points","exports","conditions","entries"],"author":{"name":"Hiroki Osame","email":"hiroki.osame@gmail.com"},"license":"MIT","_id":"pkg-entry-points@1.1.0","maintainers":[{"name":"hirokiosame","email":"hiroki.osame@gmail.com"}],"homepage":"https://github.com/privatenumber/pkg-entry-points#readme","bugs":{"url":"https://github.com/privatenumber/pkg-entry-points/issues"},"dist":{"shasum":"f38e6fe0770ee7ace5a6c1eecad14fd4bedb8c0d","tarball":"https://registry.npmjs.org/pkg-entry-points/-/pkg-entry-points-1.1.0.tgz","fileCount":7,"integrity":"sha512-9vL2T/he5Kb97GVY+V3Ih4jCC1lF3PQGIDUJIUqKM4Q6twmhrUSAa0OFj+kb8IEs4wYzEgB6kcc4oYy21kZnQw==","signatures":[{"sig":"MEQCIFUrGPUTd2DJuHqzMnfyga+J+il+Hg2I/3D9qwLuf5VNAiAVohOR0rJkDnGv+WOYYAX0u9E4qvr741WPy+sv+8Kr3Q==","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":16540},"main":"./dist/index.cjs","type":"module","types":"./dist/index.d.cts","module":"./dist/index.mjs","exports":{"import":{"types":"./dist/index.d.mts","default":"./dist/index.mjs"},"require":{"types":"./dist/index.d.cts","default":"./dist/index.cjs"}},"funding":"https://github.com/privatenumber/pkg-entry-points?sponsor=1","gitHead":"d1ac7a788f031d319695a0db108ff4800780b895","imports":{"#pkg-entry-points":{"types":"./src/index.ts","default":"./dist/index.mjs","development":"./src/index.ts"}},"_npmUser":{"name":"hirokiosame","email":"hiroki.osame@gmail.com"},"repository":{"url":"git+https://github.com/privatenumber/pkg-entry-points.git","type":"git"},"_npmVersion":"10.5.2","description":"Get all entry-points for an npm package. Supports the `exports` field in `package.json`.","directories":{},"_nodeVersion":"20.13.1","_hasShrinkwrap":false,"_npmOperationalInternal":{"tmp":"tmp/pkg-entry-points_1.1.0_1715597302270_0.28648260227856115","host":"s3://npm-registry-packages"}},"1.1.1":{"name":"pkg-entry-points","version":"1.1.1","description":"Get all entry-points for an npm package. Supports the `exports` field in `package.json`.","keywords":["node.js","package.json","entry","points","entry-points","exports","conditions","entries"],"license":"MIT","repository":{"type":"git","url":"git+https://github.com/privatenumber/pkg-entry-points.git"},"funding":"https://github.com/privatenumber/pkg-entry-points?sponsor=1","author":{"name":"Hiroki Osame","email":"hiroki.osame@gmail.com"},"type":"module","main":"./dist/index.cjs","module":"./dist/index.mjs","types":"./dist/index.d.cts","exports":{"require":{"types":"./dist/index.d.cts","default":"./dist/index.cjs"},"import":{"types":"./dist/index.d.mts","default":"./dist/index.mjs"}},"imports":{"#pkg-entry-points":{"types":"./src/index.ts","development":"./src/index.ts","default":"./dist/index.mjs"}},"_id":"pkg-entry-points@1.1.1","gitHead":"aa566ebcfc33713922d44d4e973d48243788ee23","bugs":{"url":"https://github.com/privatenumber/pkg-entry-points/issues"},"homepage":"https://github.com/privatenumber/pkg-entry-points#readme","_nodeVersion":"20.13.1","_npmVersion":"10.5.2","dist":{"integrity":"sha512-BhZa7iaPmB4b3vKIACoppyUoYn8/sFs17VJJtzrzPZvEnN2nqrgg911tdL65lA2m1ml6UI3iPeYbZQ4VXpn1mA==","shasum":"d5cd87f934e873bf73143ed1d0baf637e5f8fda4","tarball":"https://registry.npmjs.org/pkg-entry-points/-/pkg-entry-points-1.1.1.tgz","fileCount":7,"unpackedSize":16600,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCIEiMwcb27Sip6jpOrVQ/cmrlvNNlJAc8MG2yTd+86F9+AiAfkXGcTU0kbratYysab3dXKdHedCU0K2/s9v6Ui5UqMA=="}]},"_npmUser":{"name":"hirokiosame","email":"hiroki.osame@gmail.com"},"directories":{},"maintainers":[{"name":"hirokiosame","email":"hiroki.osame@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/pkg-entry-points_1.1.1_1729781114332_0.35242997902746054"},"_hasShrinkwrap":false}},"time":{"created":"2023-05-16T06:29:39.087Z","modified":"2024-10-24T14:45:14.716Z","1.0.0":"2023-05-16T06:29:39.253Z","1.0.1":"2023-05-18T09:41:02.358Z","1.0.2":"2023-07-18T08:57:56.976Z","1.1.0":"2024-05-13T10:48:22.418Z","1.1.1":"2024-10-24T14:45:14.546Z"},"bugs":{"url":"https://github.com/privatenumber/pkg-entry-points/issues"},"author":{"name":"Hiroki Osame","email":"hiroki.osame@gmail.com"},"license":"MIT","homepage":"https://github.com/privatenumber/pkg-entry-points#readme","keywords":["node.js","package.json","entry","points","entry-points","exports","conditions","entries"],"repository":{"type":"git","url":"git+https://github.com/privatenumber/pkg-entry-points.git"},"description":"Get all entry-points for an npm package. Supports the `exports` field in `package.json`.","maintainers":[{"name":"hirokiosame","email":"hiroki.osame@gmail.com"}],"readme":"# pkg-entry-points\n\nGet all entry-points for an npm package. Supports the [`exports` field](https://nodejs.org/api/packages.html#exports) to expand subpaths and condition combinations.\n\n<br>\n\n<p align=\"center\">\n\t<a href=\"https://github.com/sponsors/privatenumber/sponsorships?tier_id=398771\"><img width=\"412\" src=\"https://raw.githubusercontent.com/privatenumber/sponsors/master/banners/assets/donate.webp\"></a>\n\t<a href=\"https://github.com/sponsors/privatenumber/sponsorships?tier_id=397608\"><img width=\"412\" src=\"https://raw.githubusercontent.com/privatenumber/sponsors/master/banners/assets/sponsor.webp\"></a>\n</p>\n<p align=\"center\"><sup><i>Already a sponsor?</i> Join the discussion in the <a href=\"https://github.com/pvtnbr/pkg-entry-points\">Development repo</a>!</sup></p>\n\n## Install\n\n```sh\nnpm install pkg-entry-points\n```\n\n## Usage\n\nTo get all entry-points for a package located at `./node_modules/my-package`:\n\n```ts\nimport { getPackageEntryPoints } from 'pkg-entry-points'\n\nconst packageExports = await getPackageEntryPoints('./node_modules/my-package')\n\nconsole.log(packageExports)\n\n/*\n{\n    '.': [\n        [conditions, internalPath],\n    ],\n    './entry-file': [\n        [['types'], './dist/entry-file.d.ts'],\n        [['import'], './dist/entry-file.mjs'],\n        [['require'], './dist/entry-file.js'],\n    ],\n    ...,\n}\n*/\n```\n\n### Example: `vue` - using `exports` conditions\nEntry-points evaluated from the [`vue` package](https://github.com/vuejs/core/blob/v3.3.2/packages/vue/package.json):\n\n<details>\n\t<summary><code>vue</code> entry-points</summary>\n\n```json5\n{\n    \".\": [\n        [[\"types\"], \"./dist/vue.d.ts\"],\n        [[\"require\"], \"./index.js\"],\n        [[\"import\", \"node\"], \"./index.mjs\"],\n        [[\"default\", \"import\"], \"./dist/vue.runtime.esm-bundler.js\"]\n    ],\n    \"./server-renderer\": [\n        [[\"types\"], \"./server-renderer/index.d.ts\"],\n        [[\"import\"], \"./server-renderer/index.mjs\"],\n        [[\"require\"], \"./server-renderer/index.js\"]\n    ],\n    \"./compiler-sfc\": [\n        [[\"types\"], \"./compiler-sfc/index.d.ts\"],\n        [[\"import\"], \"./compiler-sfc/index.mjs\"],\n        [[\"require\"], \"./compiler-sfc/index.js\"]\n    ],\n    \"./dist/vue.cjs.js\": [\n        [[\"default\"], \"./dist/vue.cjs.js\"]\n    ],\n    \"./dist/vue.cjs.prod.js\": [\n        [[\"default\"], \"./dist/vue.cjs.prod.js\"]\n    ],\n    \"./dist/vue.d.ts\": [\n        [[\"default\"], \"./dist/vue.d.ts\"]\n    ],\n    \"./dist/vue.esm-browser.js\": [\n        [[\"default\"], \"./dist/vue.esm-browser.js\"]\n    ],\n    \"./dist/vue.esm-browser.prod.js\": [\n        [[\"default\"], \"./dist/vue.esm-browser.prod.js\"]\n    ],\n    \"./dist/vue.esm-bundler.js\": [\n        [[\"default\"], \"./dist/vue.esm-bundler.js\"]\n    ],\n    \"./dist/vue.global.js\": [\n        [[\"default\"], \"./dist/vue.global.js\"]\n    ],\n    \"./dist/vue.global.prod.js\": [\n        [[\"default\"], \"./dist/vue.global.prod.js\"]\n    ],\n    \"./dist/vue.runtime.esm-browser.js\": [\n        [[\"default\"], \"./dist/vue.runtime.esm-browser.js\"]\n    ],\n    \"./dist/vue.runtime.esm-browser.prod.js\": [\n        [[\"default\"], \"./dist/vue.runtime.esm-browser.prod.js\"]\n    ],\n    \"./dist/vue.runtime.esm-bundler.js\": [\n        [[\"default\"], \"./dist/vue.runtime.esm-bundler.js\"]\n    ],\n    \"./dist/vue.runtime.global.js\": [\n        [[\"default\"], \"./dist/vue.runtime.global.js\"]\n    ],\n    \"./dist/vue.runtime.global.prod.js\": [\n        [[\"default\"], \"./dist/vue.runtime.global.prod.js\"]\n    ],\n    \"./package.json\": [\n        [[\"default\"], \"./package.json\"]\n    ],\n    \"./macros\": [\n        [[\"default\"], \"./macros.d.ts\"]\n    ],\n    \"./macros-global\": [\n        [[\"default\"], \"./macros-global.d.ts\"]\n    ],\n    \"./ref-macros\": [\n        [[\"default\"], \"./ref-macros.d.ts\"]\n    ]\n}\n```\n</details>\n\n\n### Example: `typescript` - no `exports` (legacy `main` field, etc.)\nEntry-points evaluated from the [`typescript` package](https://github.com/microsoft/TypeScript/blob/v5.0.4/package.json):\n\n<details>\n\t<summary><code>typescript</code> entry-points</summary>\n\n```json5\n{\n    \"./lib/cancellationToken.js\": [\n        [[\"default\"], \"./lib/cancellationToken.js\"]\n    ],\n    \"./lib/cs/diagnosticMessages.generated.json\": [\n        [[\"default\"], \"./lib/cs/diagnosticMessages.generated.json\"]\n    ],\n    \"./lib/de/diagnosticMessages.generated.json\": [\n        [[\"default\"], \"./lib/de/diagnosticMessages.generated.json\"]\n    ],\n    \"./lib/es/diagnosticMessages.generated.json\": [\n        [[\"default\"], \"./lib/es/diagnosticMessages.generated.json\"]\n    ],\n    \"./lib/fr/diagnosticMessages.generated.json\": [\n        [[\"default\"], \"./lib/fr/diagnosticMessages.generated.json\"]\n    ],\n    \"./lib/it/diagnosticMessages.generated.json\": [\n        [[\"default\"], \"./lib/it/diagnosticMessages.generated.json\"]\n    ],\n    \"./lib/ja/diagnosticMessages.generated.json\": [\n        [[\"default\"], \"./lib/ja/diagnosticMessages.generated.json\"]\n    ],\n    \"./lib/ko/diagnosticMessages.generated.json\": [\n        [[\"default\"], \"./lib/ko/diagnosticMessages.generated.json\"]\n    ],\n    \"./lib/pl/diagnosticMessages.generated.json\": [\n        [[\"default\"], \"./lib/pl/diagnosticMessages.generated.json\"]\n    ],\n    \"./lib/pt-br/diagnosticMessages.generated.json\": [\n        [[\"default\"], \"./lib/pt-br/diagnosticMessages.generated.json\"]\n    ],\n    \"./lib/ru/diagnosticMessages.generated.json\": [\n        [[\"default\"], \"./lib/ru/diagnosticMessages.generated.json\"]\n    ],\n    \"./lib/tr/diagnosticMessages.generated.json\": [\n        [[\"default\"], \"./lib/tr/diagnosticMessages.generated.json\"]\n    ],\n    \"./lib/tsc.js\": [\n        [[\"default\"], \"./lib/tsc.js\"]\n    ],\n    \"./lib/tsserver.js\": [\n        [[\"default\"], \"./lib/tsserver.js\"]\n    ],\n    \"./lib/tsserverlibrary.js\": [\n        [[\"default\"], \"./lib/tsserverlibrary.js\"]\n    ],\n    \"./lib/typesMap.json\": [\n        [[\"default\"], \"./lib/typesMap.json\"]\n    ],\n    \"./lib/typescript.js\": [\n        [[\"default\"], \"./lib/typescript.js\"]\n    ],\n    \"./lib/typingsInstaller.js\": [\n        [[\"default\"], \"./lib/typingsInstaller.js\"]\n    ],\n    \"./lib/watchGuard.js\": [\n        [[\"default\"], \"./lib/watchGuard.js\"]\n    ],\n    \"./lib/zh-cn/diagnosticMessages.generated.json\": [\n        [[\"default\"], \"./lib/zh-cn/diagnosticMessages.generated.json\"]\n    ],\n    \"./lib/zh-tw/diagnosticMessages.generated.json\": [\n        [[\"default\"], \"./lib/zh-tw/diagnosticMessages.generated.json\"]\n    ],\n    \"./package.json\": [\n        [[\"default\"], \"./package.json\"]\n    ],\n    \".\": [\n        [[\"default\"], \"./lib/typescript.js\"]\n    ]\n}\n```\n</details>\n\n## API\n\n### getPackageEntryPoints(packagePath, fs?)\n\nReturns: `Promise<PackageEntryPoints>`\n\nType definitions:\n```ts\ntype PackageEntryPoints = {\n    [subpath: string]: ConditionToPath[]\n}\n\ntype ConditionToPath = [conditions: string[], internalPath: string]\n```\n\n#### Description\nReturns all possible entry-points of an npm package.\n\nIf the package has a `package.json#exports` property, it will return an object where the keys are expanded subpaths and the values are arrays of tuples containing an array of possible import combinations paired with the internal file path it resolves to.\n\nIf the package does not have an `exports` property, it will return an object where the keys are the internal file paths, mapping to arrays of possible import combinations.\n\n#### Parameters\n\n- `packagePath`\n\n    Type: `string`\n\n    Required\n\n    The path to the package to get the exports for.\n\n- `fs`\n\n    Type: `typeof import('fs/promises')`\n\n    Optional\n\n    Default: `fs.promises`\n\n    The file-system to use. Defaults to Node.js's `fs/promises` module.\n\n\n## Sponsors\n<p align=\"center\">\n\t<a href=\"https://github.com/sponsors/privatenumber\">\n\t\t<img src=\"https://cdn.jsdelivr.net/gh/privatenumber/sponsors/sponsorkit/sponsors.svg\">\n\t</a>\n</p>\n\n\n## Related\n\n### [resolve-pkg-maps](https://github.com/privatenumber/resolve-pkg-maps)\n\nUtils to resolve `package.json` subpath & conditional [`exports`](https://nodejs.org/api/packages.html#exports)/[`imports`](https://nodejs.org/api/packages.html#imports) maps in resolvers.\n","readmeFilename":"README.md"}